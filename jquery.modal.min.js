/*
    A simple jQuery modal (http://github.com/kylefox/jquery-modal)
    Version 0.5.4
*/
(function(e){function g(a){var c=null;a.a=function(b,d){a.a.close();var e,f;this.j=a("body");this.options=a.extend({},h,d);this.options.f=!isNaN(parseInt(this.options.g,10));if(b.Z("a"))if(f=b.T("href"),/^#/.test(f)){this.b=a(f);if(1!==this.b.length)return null;this.open()}else this.b=a("<div>"),this.j.append(this.b),e=function(a,b){b.H.remove()},this.l(),b.c(a.a.u),a.get(f).U(function(d){c&&(b.c(a.a.v),c.b.empty().append(d).i(a.a.n,e),c.r(),c.open(),b.c(a.a.m))}).X(function(){b.c(a.a.t);c.r();b.c(a.a.m)});
else this.b=b,this.open()};a.a.prototype={open:function(){var b=this;this.options.f?(this.o(),setTimeout(function(){b.show()},this.options.g*this.options.J)):(this.o(),this.show());this.options.I&&a(document).i("keydown.modal",function(b){27==b.which&&a.a.close()});this.options.D&&this.d.click(a.a.close)},close:function(){this.P();this.q();a(document).aa("keydown.modal")},o:function(){var b=this.options.f?0:this.options.opacity;this.b.c(a.a.w,[this.e()]);this.d=a('<div class="jquery-modal blocker"></div>').G({top:0,
right:0,bottom:0,left:0,width:"100%",height:"100%",position:"fixed",zIndex:this.options.zIndex,background:this.options.M,opacity:b});this.j.append(this.d);this.options.f&&this.d.S({opacity:this.options.opacity},this.options.g);this.b.c(a.a.C,[this.e()])},P:function(){this.options.f?this.d.K(this.options.g,function(){this.remove()}):this.d.remove()},show:function(){this.b.c(a.a.B,[this.e()]);this.options.N&&(this.k=a('<a href="#close-modal" rel="modal:close" class="close-modal">'+this.options.F+"</a>"),
this.b.append(this.k));this.b.Q(this.options.s+" current");this.p();this.options.f?this.b.W(this.options.g):this.b.show();this.b.c(a.a.OPEN,[this.e()])},q:function(){this.b.c(a.a.A,[this.e()]);this.k&&this.k.remove();this.b.ba("current");this.options.f?this.b.K(this.options.g):this.b.q();this.b.c(a.a.n,[this.e()])},l:function(){this.options.l&&(this.h=this.h||a('<div class="'+this.options.s+'-spinner"></div>').append(this.options.O),this.j.append(this.h),this.h.show())},r:function(){this.h&&this.h.remove()},
p:function(){this.b.G({position:"fixed",top:"50%",left:"50%",marginTop:-(this.b.outerHeight()/2),marginLeft:-(this.b.outerWidth()/2),zIndex:this.options.zIndex+1})},e:function(){return{H:this.b,d:this.d,options:this.options}}};a.a.prototype.resize=a.a.prototype.p;a.a.close=function(a){if(c)return a&&a.preventDefault(),c.close(),a=c.b,c=null,a};a.a.resize=function(){c&&c.resize()};a.a.$=function(){return c?!0:!1};a.a.w="modal:before-block";a.a.C="modal:block";a.a.B="modal:before-open";a.a.OPEN="modal:open";
a.a.A="modal:before-close";a.a.n="modal:close";a.a.u="modal:ajax:send";a.a.v="modal:ajax:success";a.a.t="modal:ajax:fail";a.a.m="modal:ajax:complete";a.Y.a=function(b){b=a.extend(!0,{},h,b);return this.V(function(){var d=a(this);c=new a.a(d,b);d.data("modal",c);a(document).i("click.modal",'a[rel="modal:close"]',a.a.close)})}}var h={M:"#000",opacity:0.75,zIndex:1,I:!0,D:!0,F:"Close",s:"modal",O:null,l:!0,N:!0,g:null,J:1};"function"===typeof define&&define.R?define(["jquery"],g,function(){$(document).i("click.modal",
'a[rel="modal:open"]',function(a){a.preventDefault();$(this).a()})}):(g(e.L),e.L(document).i("click.modal",'a[rel="modal:open"]',function(a){a.preventDefault();$(this).a()}))})(this);
